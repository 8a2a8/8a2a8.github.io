---
title: c++热更
date: 2023-11-01 13:07:22 +/-TTTT
categories: [cpp]
tags: [reload, cpp]
---
## 目的
- 总结c++进行热更的原理与代码

# 一、基本原理
- 对于cpp来说，面向对象的语法本质上只是语言上的各种编译规则限制，实际编译成二进制文件后，其与C语言没有本质差别，都是业务逻辑加上结构体
- 基于这一点，可以知道，热更要做的就是数据结构+业务逻辑的变更
    - 数据结构变更：由于c++对于内存是固定分配的，即对象在堆栈上的内存大小，在运行时时固定的，需要通过预留空指针的方法用于动态添加，或者利用全局容器进行映射
    - 函数逻辑变更：在汇编层面，只需要通过jmp指令，跳过旧逻辑，指向新逻辑

# 二、实现流程



# 三、编译流程



# 四、动态库加载流程



# 5、关注点